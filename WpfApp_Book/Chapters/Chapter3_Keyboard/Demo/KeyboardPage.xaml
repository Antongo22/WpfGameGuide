<Page x:Class="WpfGameGuide.Chapters.Chapter3_Keyboard.Demo.KeyboardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="–ì–ª–∞–≤–∞ 3: –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞" Focusable="True" Loaded="Page_Loaded" KeyDown="Page_KeyDown">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <TextBlock Text="–ì–ª–∞–≤–∞ 3: –†–∞–±–æ—Ç–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π" 
                       FontSize="28" FontWeight="Bold" Margin="0,0,0,20" Foreground="#2E86AB"/>
            
            <!-- ===== –¢–ï–û–†–ò–Ø: –°–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã ===== -->
            <Border Background="#F0F4F8" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="‚å®Ô∏è –°–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã" FontSize="18" FontWeight="Bold" Foreground="#1A5276"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
WPF –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π:
                    </TextBlock>
                    
                    <Border Background="White" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="KeyDown" FontWeight="Bold" Margin="0,0,15,5" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="–ö–ª–∞–≤–∏—à–∞ –Ω–∞–∂–∞—Ç–∞ (—Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑)" TextWrapping="Wrap"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="KeyUp" FontWeight="Bold" Margin="0,0,15,5" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="–ö–ª–∞–≤–∏—à–∞ –æ—Ç–ø—É—â–µ–Ω–∞"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="PreviewKeyDown" FontWeight="Bold" Margin="0,0,15,5" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="–ü–µ—Ä–µ—Ö–≤–∞—Ç –î–û —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)" TextWrapping="Wrap"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="TextInput" FontWeight="Bold" Margin="0,0,15,0" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" Text="–í–≤–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ (–ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏)" TextWrapping="Wrap"/>
                        </Grid>
                    </Border>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
&lt;!-- XAML: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ Focusable="True" --&gt;
&lt;Page Focusable="True" 
      Loaded="Page_Loaded" 
      KeyDown="Page_KeyDown"&gt;

// C#: –ø–æ–ª—É—á–∞–µ–º —Ñ–æ–∫—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
private void Page_Loaded(object sender, RoutedEventArgs e)
{
    this.Focus();  // –ë–ï–ó –≠–¢–û–ì–û —Å–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ù–ï –ë–£–î–£–¢ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å!
}

private void Page_KeyDown(object sender, KeyEventArgs e)
{
    Key pressedKey = e.Key;        // –ù–∞–∂–∞—Ç–∞—è –∫–ª–∞–≤–∏—à–∞
    e.Handled = true;              // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –¥–∞–ª—å–Ω–µ–π—à—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ===== –¢–ï–û–†–ò–Ø: Enum Key ===== -->
            <Border Background="#E8F6F3" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üî§ –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ Key" FontSize="18" FontWeight="Bold" Foreground="#1E8449"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–í—Å–µ –∫–ª–∞–≤–∏—à–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ enum System.Windows.Input.Key:
                    </TextBlock>
                    
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Border Grid.Column="0" Background="White" CornerRadius="4" Padding="8" Margin="0,0,5,0">
                            <StackPanel>
                                <TextBlock Text="–ë—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã" FontWeight="Bold" FontSize="12"/>
                                <TextBlock Text="Key.A ‚Äî Key.Z" FontFamily="Consolas" FontSize="11"/>
                                <TextBlock Text="Key.D0 ‚Äî Key.D9" FontFamily="Consolas" FontSize="11"/>
                                <TextBlock Text="Key.NumPad0 ‚Äî 9" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Grid.Column="1" Background="White" CornerRadius="4" Padding="8" Margin="5,0,5,0">
                            <StackPanel>
                                <TextBlock Text="–°—Ç—Ä–µ–ª–∫–∏" FontWeight="Bold" FontSize="12"/>
                                <TextBlock Text="Key.Up" FontFamily="Consolas" FontSize="11"/>
                                <TextBlock Text="Key.Down" FontFamily="Consolas" FontSize="11"/>
                                <TextBlock Text="Key.Left, Key.Right" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Grid.Column="2" Background="White" CornerRadius="4" Padding="8" Margin="5,0,0,0">
                            <StackPanel>
                                <TextBlock Text="–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ" FontWeight="Bold" FontSize="12"/>
                                <TextBlock Text="Key.Space, Key.Enter" FontFamily="Consolas" FontSize="11"/>
                                <TextBlock Text="Key.Escape, Key.Tab" FontFamily="Consolas" FontSize="11"/>
                                <TextBlock Text="Key.Back (Backspace)" FontFamily="Consolas" FontSize="11"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
private void Page_KeyDown(object sender, KeyEventArgs e)
{
    switch (e.Key)
    {
        case Key.Up:
        case Key.W:
            MoveUp();
            break;
        case Key.Down:
        case Key.S:
            MoveDown();
            break;
        case Key.Space:
            Jump();
            break;
        case Key.Escape:
            PauseGame();
            break;
    }
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ===== –¢–ï–û–†–ò–Ø: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã ===== -->
            <Border Background="#FEF9E7" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="‚áß –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (Ctrl, Shift, Alt)" FontSize="18" FontWeight="Bold" Foreground="#B7950B"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–∂–∞—Ç—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å Keyboard:
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
using System.Windows.Input;

private void Page_KeyDown(object sender, KeyEventArgs e)
{
    // –°–ø–æ—Å–æ–± 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Keyboard.Modifiers
    if (e.Key == Key.S &amp;&amp; Keyboard.Modifiers == ModifierKeys.Control)
    {
        Save();  // Ctrl+S
    }
    
    if (e.Key == Key.S &amp;&amp; Keyboard.Modifiers == (ModifierKeys.Control | ModifierKeys.Shift))
    {
        SaveAs();  // Ctrl+Shift+S
    }
    
    // –°–ø–æ—Å–æ–± 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
    bool isCtrl = Keyboard.IsKeyDown(Key.LeftCtrl) || Keyboard.IsKeyDown(Key.RightCtrl);
    bool isShift = (Keyboard.Modifiers &amp; ModifierKeys.Shift) != 0;
    bool isAlt = (Keyboard.Modifiers &amp; ModifierKeys.Alt) != 0;
}
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="–ó–Ω–∞—á–µ–Ω–∏—è ModifierKeys:" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <Border Background="White" CornerRadius="4" Padding="10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="None" FontFamily="Consolas" Margin="0,0,15,0"/>
                            <TextBlock Text="Control" FontFamily="Consolas" Margin="0,0,15,0"/>
                            <TextBlock Text="Shift" FontFamily="Consolas" Margin="0,0,15,0"/>
                            <TextBlock Text="Alt" FontFamily="Consolas" Margin="0,0,15,0"/>
                            <TextBlock Text="Windows" FontFamily="Consolas"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ===== –¢–ï–û–†–ò–Ø: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ===== -->
            <Border Background="#F5EEF8" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üîÅ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ" FontSize="18" FontWeight="Bold" Foreground="#8E44AD"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
KeyDown —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∏ –∑–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π.
–î–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –∏–≥—Ä–∞—Ö –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä + –ø—Ä–æ–≤–µ—Ä–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞–≤–∏—à:
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="11">
// –í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ (—Ç–∞–π–º–µ—Ä) –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à
private void GameLoop(object? sender, EventArgs e)
{
    // Keyboard.IsKeyDown –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–∂–∞—Ç–∞ –ª–∏ –∫–ª–∞–≤–∏—à–∞ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°
    if (Keyboard.IsKeyDown(Key.Up) || Keyboard.IsKeyDown(Key.W))
        playerY -= speed;
    
    if (Keyboard.IsKeyDown(Key.Down) || Keyboard.IsKeyDown(Key.S))
        playerY += speed;
    
    if (Keyboard.IsKeyDown(Key.Left) || Keyboard.IsKeyDown(Key.A))
        playerX -= speed;
    
    if (Keyboard.IsKeyDown(Key.Right) || Keyboard.IsKeyDown(Key.D))
        playerX += speed;
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ===== –¢–ï–û–†–ò–Ø: DispatcherTimer ===== -->
            <Border Background="#FEF9E7" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="‚è±Ô∏è DispatcherTimer ‚Äî —Ç–∞–π–º–µ—Ä –¥–ª—è WPF" FontSize="18" FontWeight="Bold" Foreground="#B7950B"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
DispatcherTimer ‚Äî —Ç–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤—Ä–µ–º–µ–Ω–∏. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö —Ü–∏–∫–ª–æ–≤, –∞–Ω–∏–º–∞—Ü–∏–π –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á.
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
using System.Windows.Threading;

// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
DispatcherTimer timer = new DispatcherTimer();

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 100 –º—Å = 10 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É)
timer.Interval = TimeSpan.FromMilliseconds(100);

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ Tick (—Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª)
timer.Tick += Timer_Tick;

// –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
timer.Start();

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞
timer.Stop();

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è Tick
private void Timer_Tick(object? sender, EventArgs e)
{
    // –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 100 –º—Å
    UpdateGame();
}

// –ü—Ä–∏–º–µ—Ä: –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª —Å —Ç–∞–π–º–µ—Ä–æ–º
private DispatcherTimer gameTimer;
private int playerX = 0;
private int playerY = 0;
private int speed = 5;

public void StartGame()
{
    gameTimer = new DispatcherTimer();
    gameTimer.Interval = TimeSpan.FromMilliseconds(16); // ~60 FPS
    gameTimer.Tick += GameLoop;
    gameTimer.Start();
}

private void GameLoop(object? sender, EventArgs e)
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞–≤–∏—à –∏ –¥–≤–∏–≥–∞–µ–º –∏–≥—Ä–æ–∫–∞
    if (Keyboard.IsKeyDown(Key.Up))
        playerY -= speed;
    if (Keyboard.IsKeyDown(Key.Down))
        playerY += speed;
    if (Keyboard.IsKeyDown(Key.Left))
        playerX -= speed;
    if (Keyboard.IsKeyDown(Key.Right))
        playerX += speed;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    UpdatePlayerPosition();
}
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <Border Background="White" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Interval" FontWeight="Bold" Margin="0,0,15,3" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="–ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º–∏ (TimeSpan)"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="IsEnabled" FontWeight="Bold" Margin="0,0,15,3" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ç–∞–π–º–µ—Ä (true/false)"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Tick" FontWeight="Bold" Margin="0,0,15,0" FontFamily="Consolas"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="–°–æ–±—ã—Ç–∏–µ, —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–µ–µ –∫–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª"/>
                        </Grid>
                    </Border>
                    
                    <!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Timer -->
                    <TextBlock Text="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: –°–µ–∫—É–Ω–¥–æ–º–µ—Ä" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <Border Background="White" CornerRadius="8" Padding="15" BorderBrush="#B7950B" BorderThickness="2">
                        <StackPanel>
                            <TextBlock x:Name="TimerDisplay" Text="00:00" 
                                       FontSize="36" FontWeight="Bold" HorizontalAlignment="Center" 
                                       Foreground="#B7950B" Margin="0,0,0,15"/>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button Content="–°—Ç–∞—Ä—Ç" Padding="15,8" Margin="5" 
                                        Click="StartTimer_Click" Background="#27AE60" Foreground="White" FontWeight="Bold"/>
                                <Button Content="–°—Ç–æ–ø" Padding="15,8" Margin="5" 
                                        Click="StopTimer_Click" Background="#E74C3C" Foreground="White" FontWeight="Bold"/>
                                <Button Content="–°–±—Ä–æ—Å" Padding="15,8" Margin="5" 
                                        Click="ResetTimer_Click" Background="#7F8C8D" Foreground="White" FontWeight="Bold"/>
                            </StackPanel>
                            <TextBlock x:Name="TimerStatus" Text="–ù–∞–∂–º–∏—Ç–µ '–°—Ç–∞—Ä—Ç' –¥–ª—è –Ω–∞—á–∞–ª–∞" 
                                       Margin="0,10,0,0" FontStyle="Italic" Foreground="#666" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ===== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø ===== -->
            <Border Background="#D5F5E3" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üéÆ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: –ù–∞–∂–∏–º–∞–π—Ç–µ –∫–ª–∞–≤–∏—à–∏!" FontSize="18" FontWeight="Bold" Foreground="#27AE60"/>
                    <TextBlock Text="–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —ç—Ç—É –æ–±–ª–∞—Å—Ç—å –∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ –ª—é–±—ã–µ –∫–ª–∞–≤–∏—à–∏:" Margin="0,10,0,10"/>
                    
                    <Border Background="White" CornerRadius="8" Padding="20" BorderBrush="#27AE60" BorderThickness="3">
                        <StackPanel HorizontalAlignment="Center">
                            <TextBlock x:Name="KeyPressedText" Text="–ù–∞–∂–∞—Ç–∞—è –∫–ª–∞–≤–∏—à–∞: ‚Äî" 
                                       FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#2E86AB"/>
                            <TextBlock x:Name="ModifiersText" Text="–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: ‚Äî" 
                                       FontSize="16" HorizontalAlignment="Center" Foreground="#7F8C8D" Margin="0,10,0,0"/>
                            <TextBlock x:Name="KeyCodeText" Text="–ö–æ–¥: ‚Äî" 
                                       FontSize="14" HorizontalAlignment="Center" Foreground="#95A5A6" Margin="0,5,0,0" FontFamily="Consolas"/>
                        </StackPanel>
                    </Border>
                    
                    <TextBlock Text="–ü–æ–ø—Ä–æ–±—É–π—Ç–µ: —Å—Ç—Ä–µ–ª–∫–∏, –±—É–∫–≤—ã, Ctrl+S, Shift+A, –ø—Ä–æ–±–µ–ª, Escape" 
                               Margin="0,10,0,0" FontStyle="Italic" Foreground="#666"/>
                </StackPanel>
            </Border>

            <!-- ===== –ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï ===== -->
            <Border Background="#FADBD8" CornerRadius="8" Padding="15" BorderBrush="#E74C3C" BorderThickness="2">
                <StackPanel>
                    <TextBlock Text="üìã –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ò–≥—Ä–∞ '–ù–∞–∂–º–∏ –∫–ª–∞–≤–∏—à—É'" 
                               FontSize="18" FontWeight="Bold" Foreground="#C0392B"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–°–æ–∑–¥–∞–π—Ç–µ –∏–≥—Ä—É –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é: –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è –±—É–∫–≤–∞, –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –µ—ë –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ.
                    </TextBlock>
                    
                    <Border Background="White" CornerRadius="5" Padding="15">
                        <StackPanel>
                            <TextBlock Text="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:" FontWeight="Bold" Margin="0,0,0,10"/>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –±—É–∫–≤—É A-Z –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ: +1 –æ—á–∫–æ, –Ω–æ–≤–∞—è –±—É–∫–≤–∞"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ: -1 –æ—á–∫–æ (–º–∏–Ω–∏–º—É–º 0)"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å—á—ë—Ç–∞"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ö–Ω–æ–ø–∫–∞ '–°–±—Ä–æ—Å' –¥–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–Ω–æ–≤–æ"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <TextBlock Text="–ë–æ–Ω—É—Å:" FontWeight="Bold" Margin="0,10,0,5" Foreground="#27AE60"/>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–¢–∞–π–º–µ—Ä: —Å–∫–æ–ª—å–∫–æ –±—É–∫–≤ –∑–∞ 30 —Å–µ–∫—É–Ω–¥?"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–†–µ–∂–∏–º —Å –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏: Ctrl+A, Shift+B"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–∑–µ–ª—ë–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ)"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#FEF9E7" CornerRadius="4" Padding="10" Margin="0,10,0,0">
                        <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#7D6608">
üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–π –±—É–∫–≤—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
char letter = (char)('A' + random.Next(26));
Key expectedKey = (Key)Enum.Parse(typeof(Key), letter.ToString());
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
