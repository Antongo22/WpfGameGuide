<Page x:Class="WpfGameGuide.Chapters.Chapter7_Graphs.Demo.GraphsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="–ì–ª–∞–≤–∞ 7: –ì—Ä–∞—Ñ—ã" Focusable="True" Loaded="Page_Loaded" KeyDown="Page_KeyDown">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <TextBlock Text="–ì–ª–∞–≤–∞ 7: –ì—Ä–∞—Ñ—ã –∏ –ø–æ–∏—Å–∫ –ø—É—Ç–∏" 
                       FontSize="28" FontWeight="Bold" Margin="0,0,0,20" Foreground="#2E86AB"/>
            
            <!-- –°–µ–∫—Ü–∏—è 1: –ß—Ç–æ —Ç–∞–∫–æ–µ –≥—Ä–∞—Ñ -->
            <Border Background="#F0F4F8" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üï∏Ô∏è –ß—Ç–æ —Ç–∞–∫–æ–µ –≥—Ä–∞—Ñ?" FontSize="18" FontWeight="Bold" Foreground="#1A5276"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–ì—Ä–∞—Ñ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ –≤–µ—Ä—à–∏–Ω (—É–∑–ª–æ–≤) –∏ —Ä—ë–±–µ—Ä (—Å–≤—è–∑–µ–π). –í –∏–≥—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
                    </TextBlock>
                    <StackPanel Margin="0,5,0,0">
                        <TextBlock Text="‚Ä¢ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç –∏ –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –ü–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –æ—Ç –ê –¥–æ –ë" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –ò–ò –≤—Ä–∞–≥–æ–≤ (–ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –ù–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π" FontSize="13"/>
                    </StackPanel>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
// –õ–∞–±–∏—Ä–∏–Ω—Ç –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ 2D-–º–∞—Å—Å–∏–≤:
// 0 = –ø—Ä–æ—Ö–æ–¥ (–º–æ–∂–Ω–æ –∏–¥—Ç–∏)
// 1 = —Å—Ç–µ–Ω–∞ (–Ω–µ–ª—å–∑—è –∏–¥—Ç–∏)

int[,] maze = {
    { 0, 0, 1, 0, 0 },
    { 1, 0, 1, 0, 1 },
    { 0, 0, 0, 0, 0 },
    { 0, 1, 1, 1, 0 },
    { 0, 0, 0, 0, 0 }
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞: –º–æ–∂–Ω–æ –ª–∏ –≤—Å—Ç–∞—Ç—å –Ω–∞ –∫–ª–µ—Ç–∫—É (x, y)?
bool CanMove(int x, int y)
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥—Ä–∞–Ω–∏—Ü—ã
    if (x &lt; 0 || y &lt; 0 || x &gt;= width || y &gt;= height)
        return false;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å—Ç–µ–Ω–∞ –ª–∏ —ç—Ç–æ
    return maze[y, x] == 0;
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 2: BFS - –ü–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É -->
            <Border Background="#E8F6F3" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üîç BFS ‚Äî –ü–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É (Breadth-First Search)" FontSize="18" FontWeight="Bold" Foreground="#1E8449"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
BFS ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç –ö–†–ê–¢–ß–ê–ô–®–ò–ô –ø—É—Ç—å –≤ –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–æ–º –≥—Ä–∞—Ñ–µ.
–û–Ω –∏—Å—Å–ª–µ–¥—É–µ—Ç –≤—Å–µ —Å–æ—Å–µ–¥–Ω–∏–µ –∫–ª–µ—Ç–∫–∏ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 1, –ø–æ—Ç–æ–º –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 2, –∏ —Ç.–¥.
–ö–∞–∫ –≤–æ–ª–Ω–∞, —Ä–∞—Å—Ö–æ–¥—è—â–∞—è—Å—è –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞.
                    </TextBlock>
                    
                    <TextBlock Text="–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <Border Background="White" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" FontSize="12">
1. –ù–∞—á–∏–Ω–∞–µ–º —Å–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ç–æ—á–∫–∏
2. –î–æ–±–∞–≤–ª—è–µ–º –µ—ë –≤ –æ—á–µ—Ä–µ–¥—å
3. –ü–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—É—Å—Ç–∞:
   a. –ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –æ—á–µ—Ä–µ–¥–∏
   b. –ï—Å–ª–∏ —ç—Ç–æ —Ü–µ–ª—å ‚Äî –Ω–∞—à–ª–∏ –ø—É—Ç—å!
   c. –ò–Ω–∞—á–µ –¥–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ—Ö –Ω–µ–ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Å–µ–¥–µ–π –≤ –æ—á–µ—Ä–µ–¥—å
   d. –ü–æ–º–µ—á–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–ª–µ—Ç–∫—É –∫–∞–∫ –ø–æ—Å–µ—â—ë–Ω–Ω—É—é
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <Border Background="#1A252F" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="#3498DB" FontSize="12">
–®–∞–≥ 0:  S . . . .     S = —Å—Ç–∞—Ä—Ç
        . # . # .     E = –≤—ã—Ö–æ–¥
        . . . . .     # = —Å—Ç–µ–Ω–∞
        . # # # .     . = –Ω–µ–ø–æ—Å–µ—â—ë–Ω–Ω–∞—è –∫–ª–µ—Ç–∫–∞
        . . . . E

–®–∞–≥ 1:  S 1 . . .     –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å–µ–¥–µ–π —Å—Ç–∞—Ä—Ç–∞
        1 # . # .     –î–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å
        . . . . .
        . # # # .
        . . . . E

–®–∞–≥ 2:  S 1 2 . .     –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å–µ–¥–µ–π –∫–ª–µ—Ç–æ–∫ "1"
        1 # 2 # .     –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–µ—Ç–∫–∏ "2"
        2 2 2 . .
        . # # # .
        . . . . E

...–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ–º E
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è BFS -->
            <Border Background="#FEF9E7" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è BFS –Ω–∞ C#" FontSize="18" FontWeight="Bold" Foreground="#B7950B"/>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,10,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="11">
using System.Collections.Generic;

/// &lt;summary&gt;
/// –ù–∞—Ö–æ–¥–∏—Ç –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å –æ—Ç start –¥–æ end –∏—Å–ø–æ–ª—å–∑—É—è BFS
/// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ –ø—É—Ç–∏ –∏–ª–∏ null –µ—Å–ª–∏ –ø—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω
/// &lt;/summary&gt;
private List&lt;Point&gt;? FindPathBFS(Point start, Point end)
{
    // –û—á–µ—Ä–µ–¥—å –¥–ª—è –æ–±—Ö–æ–¥–∞ (FIFO ‚Äî –ø–µ—Ä–≤—ã–º –≤–æ—à—ë–ª, –ø–µ—Ä–≤—ã–º –≤—ã—à–µ–ª)
    var queue = new Queue&lt;Point&gt;();
    
    // –°–ª–æ–≤–∞—Ä—å: –æ—Ç–∫—É–¥–∞ –º—ã –ø—Ä–∏—à–ª–∏ –≤ –∫–∞–∂–¥—É—é –∫–ª–µ—Ç–∫—É
    // –ö–ª—é—á = —Ç–µ–∫—É—â–∞—è –∫–ª–µ—Ç–∫–∞, –ó–Ω–∞—á–µ–Ω–∏–µ = –ø—Ä–µ–¥—ã–¥—É—â–∞—è –∫–ª–µ—Ç–∫–∞
    var cameFrom = new Dictionary&lt;Point, Point&gt;();
    
    // –ù–∞—á–∏–Ω–∞–µ–º —Å–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ç–æ—á–∫–∏
    queue.Enqueue(start);
    cameFrom[start] = start;  // –°—Ç–∞—Ä—Ç –ø—Ä–∏—à—ë–ª "—Å–∞–º –∏–∑ —Å–µ–±—è"
    
    // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è: –≤–≤–µ—Ä—Ö, –≤–Ω–∏–∑, –≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ
    int[] dx = { 0, 0, -1, 1 };
    int[] dy = { -1, 1, 0, 0 };
    
    // –ü–æ–∫–∞ –µ—Å—Ç—å –∫–ª–µ—Ç–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
    while (queue.Count &gt; 0)
    {
        // –ë–µ—Ä—ë–º –ø–µ—Ä–≤—É—é –∫–ª–µ—Ç–∫—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏
        Point current = queue.Dequeue();
        
        // –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ —Ü–µ–ª–∏ ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—É—Ç—å
        if (current == end)
        {
            // –ò–¥—ë–º –æ—Ç –∫–æ–Ω—Ü–∞ –∫ –Ω–∞—á–∞–ª—É –ø–æ —Å–ª–æ–≤–∞—Ä—é cameFrom
            var path = new List&lt;Point&gt;();
            Point c = end;
            
            while (cameFrom[c] != c)  // –ü–æ–∫–∞ –Ω–µ –¥–æ–π–¥—ë–º –¥–æ —Å—Ç–∞—Ä—Ç–∞
            {
                path.Add(c);
                c = cameFrom[c];  // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–ª–µ—Ç–∫–µ
            }
            path.Add(c);  // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ä—Ç
            
            path.Reverse();  // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º: –æ—Ç —Å—Ç–∞—Ä—Ç–∞ –∫ –∫–æ–Ω—Ü—É
            return path;
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π (4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
        for (int i = 0; i &lt; 4; i++)
        {
            Point next = new Point(current.X + dx[i], current.Y + dy[i]);
            
            // –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏–º–∞ –ò –µ—â—ë –Ω–µ –ø–æ—Å–µ—â–µ–Ω–∞
            if (CanMove((int)next.X, (int)next.Y) &amp;&amp; !cameFrom.ContainsKey(next))
            {
                queue.Enqueue(next);        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
                cameFrom[next] = current;   // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–ª–∏
            }
        }
    }
    
    // –û—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞, —Ü–µ–ª—å –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ ‚Äî –ø—É—Ç–∏ –Ω–µ—Ç
    return null;
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 4: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ -->
            <Border Background="#F5EEF8" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üõ§Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏" FontSize="18" FontWeight="Bold" Foreground="#8E44AD"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–°–ª–æ–≤–∞—Ä—å cameFrom —Ö—Ä–∞–Ω–∏—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –æ—Ç–∫—É–¥–∞ –º—ã –≤ –Ω–µ—ë –ø—Ä–∏—à–ª–∏.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å, –∏–¥—è –æ—Ç –∫–æ–Ω—Ü–∞ –∫ –Ω–∞—á–∞–ª—É:
                    </TextBlock>
                    
                    <Border Background="White" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" FontSize="12">
cameFrom:
  (1,0) ‚Üê (0,0)   // –í –∫–ª–µ—Ç–∫—É (1,0) –ø—Ä–∏—à–ª–∏ –∏–∑ (0,0)
  (1,1) ‚Üê (1,0)   // –í –∫–ª–µ—Ç–∫—É (1,1) –ø—Ä–∏—à–ª–∏ –∏–∑ (1,0)
  (2,1) ‚Üê (1,1)   // –í –∫–ª–µ—Ç–∫—É (2,1) –ø—Ä–∏—à–ª–∏ –∏–∑ (1,1)
  (2,2) ‚Üê (2,1)   // –ò —Ç–∞–∫ –¥–∞–ª–µ–µ...

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç (2,2) –¥–æ —Å—Ç–∞—Ä—Ç–∞ (0,0):
  (2,2) ‚Üí (2,1) ‚Üí (1,1) ‚Üí (1,0) ‚Üí (0,0)
                  ‚Üì Reverse()
  (0,0) ‚Üí (1,0) ‚Üí (1,1) ‚Üí (2,1) ‚Üí (2,2)  ‚úì
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 5: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –ò–ò -->
            <Border Background="#EAEDED" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üëª –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò–ò –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (Pac-Man)" FontSize="18" FontWeight="Bold" Foreground="#566573"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–í Pac-Man –ø—Ä–∏–∑—Ä–∞–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–∏—Å–∫ –ø—É—Ç–∏, —á—Ç–æ–±—ã –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞:
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
private void GhostAI()
{
    // –ù–∞—Ö–æ–¥–∏–º –ø—É—Ç—å –æ—Ç –ø—Ä–∏–∑—Ä–∞–∫–∞ –¥–æ –∏–≥—Ä–æ–∫–∞
    var path = FindPathBFS(ghostPosition, playerPosition);
    
    if (path != null &amp;&amp; path.Count &gt; 1)
    {
        // –î–≤–∏–≥–∞–µ–º –ø—Ä–∏–∑—Ä–∞–∫–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∫–ª–µ—Ç–∫–µ –ø—É—Ç–∏
        // path[0] = —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
        // path[1] = —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
        ghostPosition = path[1];
    }
}

// –í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ:
private void GameLoop(object? sender, EventArgs e)
{
    // ... –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ ...
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—É—Ç—å –ø—Ä–∏–∑—Ä–∞–∫–∞ –∫–∞–∂–¥—ã–µ N –∫–∞–¥—Ä–æ–≤
    // (–Ω–µ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä ‚Äî —ç—Ç–æ –¥–æ—Ä–æ–≥–æ)
    frameCount++;
    if (frameCount % 10 == 0)
    {
        GhostAI();
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ —Å –ø—Ä–∏–∑—Ä–∞–∫–æ–º
    if (playerPosition == ghostPosition)
    {
        GameOver();
    }
}
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:" FontWeight="SemiBold" Foreground="#E74C3C" Margin="0,5,0,5"/>
                    <StackPanel>
                        <TextBlock Text="‚Ä¢ –ù–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–π—Ç–µ –ø—É—Ç—å –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä (—Ä–∞–∑ –≤ 5-10)" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –î–ª—è –±–æ–ª—å—à–∏—Ö –∫–∞—Ä—Ç –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ A* (–±—ã—Å—Ç—Ä–µ–µ BFS)" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≥–ª—É–±–∏–Ω—É –ø–æ–∏—Å–∫–∞ –¥–ª—è –¥–∞–ª—ë–∫–∏—Ö —Ü–µ–ª–µ–π" FontSize="13"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 6: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ -->
            <Border Background="#FCF3CF" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üèóÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞" FontSize="18" FontWeight="Bold" Foreground="#9A7D0A"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç ‚Äî –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–∞—Ä—Ç—É —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å—Ç–µ–Ω–∞–º–∏
–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å –æ—Ç —Å—Ç–∞—Ä—Ç–∞ –¥–æ –≤—ã—Ö–æ–¥–∞:
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
private void GenerateMaze()
{
    maze = new int[height, width];
    
    // 1. –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å—Ç–µ–Ω–∞–º–∏ (30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å—Ç–µ–Ω—ã)
    for (int y = 0; y &lt; height; y++)
        for (int x = 0; x &lt; width; x++)
            maze[y, x] = random.NextDouble() &lt; 0.3 ? 1 : 0;
    
    // 2. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —Å—Ç–∞—Ä—Ç –∏ –≤—ã—Ö–æ–¥ ‚Äî –ø—Ä–æ—Ö–æ–¥—ã
    maze[0, 0] = 0;                    // –°—Ç–∞—Ä—Ç
    maze[height - 1, width - 1] = 0;   // –í—ã—Ö–æ–¥
    
    // 3. –°–æ–∑–¥–∞—ë–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å (–ø—Ä–æ—Å—Ç–æ–π: –∏–¥—ë–º –≤–ø—Ä–∞–≤–æ –∏ –≤–Ω–∏–∑)
    int px = 0, py = 0;
    while (px &lt; width - 1 || py &lt; height - 1)
    {
        maze[py, px] = 0;  // –î–µ–ª–∞–µ–º –∫–ª–µ—Ç–∫—É –ø—Ä–æ—Ö–æ–¥–æ–º
        
        // –°–ª—É—á–∞–π–Ω–æ –¥–≤–∏–≥–∞–µ–º—Å—è –≤–ø—Ä–∞–≤–æ –∏–ª–∏ –≤–Ω–∏–∑
        if (px &gt;= width - 1) py++;
        else if (py &gt;= height - 1) px++;
        else if (random.NextDouble() &lt; 0.5) px++;
        else py++;
    }
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è -->
            <Border Background="#2C3E50" CornerRadius="8" Margin="0,0,0,15">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="300"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <StackPanel Grid.Row="0" Margin="15,15,15,10">
                        <TextBlock Text="üèÉ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: –õ–∞–±–∏—Ä–∏–Ω—Ç —Å –ø–æ–∏—Å–∫–æ–º –ø—É—Ç–∏" 
                                   FontSize="16" FontWeight="Bold" Foreground="White"/>
                        <TextBlock Text="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç—Ä–µ–ª–∫–∏. –ü—Ä–æ–±–µ–ª –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ '–ü—É—Ç—å' ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å (BFS)" 
                                   Foreground="#95A5A6" FontSize="12" Margin="0,5,0,0"/>
                    </StackPanel>
                    
                    <Canvas x:Name="MazeCanvas" Grid.Row="1" Background="#1A252F" ClipToBounds="True" 
                            Margin="15,0,15,0" SizeChanged="MazeCanvas_SizeChanged"/>
                    
                    <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="15">
                        <Button Content="‚Üª –ù–æ–≤—ã–π" Width="80" Click="NewMaze_Click"
                                Background="#3498DB" Foreground="White" FontWeight="Bold"/>
                        <Button Content="üîç –ü—É—Ç—å" Width="80" Margin="10,0" Click="ShowPath_Click"
                                Background="#9B59B6" Foreground="White" FontWeight="Bold"/>
                        <TextBlock x:Name="StatusText" Text="–ù–∞–π–¥–∏ –≤—ã—Ö–æ–¥! üèÅ" Foreground="White" 
                                   VerticalAlignment="Center" Margin="10,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ -->
            <Border Background="#FADBD8" CornerRadius="8" Padding="15" BorderBrush="#E74C3C" BorderThickness="2">
                <StackPanel>
                    <TextBlock Text="üìã –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ò–≥—Ä–∞-–õ–∞–±–∏—Ä–∏–Ω—Ç" FontSize="18" FontWeight="Bold" Foreground="#C0392B"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∏–≥—Ä—É-–ª–∞–±–∏—Ä–∏–Ω—Ç:
                    </TextBlock>
                    
                    <Border Background="White" CornerRadius="5" Padding="15">
                        <StackPanel>
                            <TextBlock Text="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:" FontWeight="Bold" Margin="0,0,0,10"/>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ò–≥—Ä–æ–∫ (–∂—ë–ª—Ç—ã–π –∫–≤–∞–¥—Ä–∞—Ç) —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–°–ª—É—á–∞–π–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—É—Ç—ë–º"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–í—ã—Ö–æ–¥ –æ—Ç–º–µ—á–µ–Ω –∑–µ–ª—ë–Ω—ã–º, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ ‚Äî –ø–æ–±–µ–¥–∞"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ö–Ω–æ–ø–∫–∞ '–ù–æ–≤—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç' –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ö–Ω–æ–ø–∫–∞ '–ü–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å' –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç BFS-–ø—É—Ç—å"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–°—á—ë—Ç—á–∏–∫ —à–∞–≥–æ–≤ –∏–ª–∏ —Ç–∞–π–º–µ—Ä –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <TextBlock Text="–ë–æ–Ω—É—Å:" FontWeight="Bold" Margin="0,10,0,5" Foreground="#27AE60"/>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–∑—Ä–∞–∫–∞, –ø—Ä–µ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ (BFS)"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ù–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–¢—É–º–∞–Ω –≤–æ–π–Ω—ã ‚Äî –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –±–ª–∏–∂–∞–π—à–∏–µ –∫–ª–µ—Ç–∫–∏"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
