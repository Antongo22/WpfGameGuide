<Page x:Class="WpfGameGuide.Chapters.Chapter4_Layout.Demo.LayoutPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="–ì–ª–∞–≤–∞ 4: –†–∞–∑–º–µ—â–µ–Ω–∏–µ">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
        <StackPanel Margin="20">
            <TextBlock Text="–ì–ª–∞–≤–∞ 4: –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ Drag-and-Drop" 
                       FontSize="28" FontWeight="Bold" Margin="0,0,0,20" Foreground="#2E86AB"/>
            
            <!-- –°–µ–∫—Ü–∏—è 1: Canvas -->
            <Border Background="#F0F4F8" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üìê –ü–∞–Ω–µ–ª—å Canvas ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ" FontSize="18" FontWeight="Bold" Foreground="#1A5276"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
Canvas ‚Äî —ç—Ç–æ –ø–∞–Ω–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Ç–æ—á–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º (X, Y).
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Grid –∏–ª–∏ StackPanel, Canvas –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî 
–≤—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –ø–æ–∑–∏—Ü–∏—é –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∏–≥—Ä, —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏.
                    </TextBlock>
                    
                    <TextBlock Text="–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
&lt;!-- –í XAML: --&gt;
&lt;Canvas&gt;
    &lt;Rectangle Canvas.Left="50" Canvas.Top="30" Width="100" Height="50"/&gt;
    &lt;Ellipse Canvas.Left="200" Canvas.Top="100" Width="80" Height="80"/&gt;
&lt;/Canvas&gt;

// –í C#:
Canvas.SetLeft(myElement, 150);   // X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (–æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è)
Canvas.SetTop(myElement, 75);     // Y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (–æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –∫—Ä–∞—è)

double x = Canvas.GetLeft(myElement);  // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é X
double y = Canvas.GetTop(myElement);   // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é Y
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="‚ö†Ô∏è –í–∞–∂–Ω–æ:" FontWeight="SemiBold" Foreground="#E74C3C"/>
                    <StackPanel Margin="0,5,0,0">
                        <TextBlock Text="‚Ä¢ Canvas.Left/Top ‚Äî attached properties" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç –ª–µ–≤–æ–≥–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É–≥–ª–∞ Canvas" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ Canvas –Ω–µ –∏–º–µ–µ—Ç –∞–≤—Ç–æ-—Ä–∞–∑–º–µ—Ä–∞: –∑–∞–¥–∞–π—Ç–µ Width/Height" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ClipToBounds='True' –¥–ª—è –æ–±—Ä–µ–∑–∫–∏" FontSize="13"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 2: –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç -->
            <Border Background="#E8F6F3" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üéØ –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç WPF" FontSize="18" FontWeight="Bold" Foreground="#1E8449"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,5" FontSize="13">–í WPF –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–∞–∫:</TextBlock>
                    <StackPanel Margin="0,0,0,10">
                        <TextBlock Text="‚Ä¢ –¢–æ—á–∫–∞ (0, 0) ‚Äî –ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –û—Å—å X —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è ‚Üí –≤–ø—Ä–∞–≤–æ" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –û—Å—å Y —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è ‚Üì –≤–Ω–∏–∑ (–≤–∞–∂–Ω–æ!)" FontSize="13" Foreground="#E74C3C"/>
                    </StackPanel>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
       (0,0) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ X —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
         ‚îÇ
         ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ   ‚îÇ     Canvas          ‚îÇ
         ‚îÇ   ‚îÇ  (50,30)            ‚îÇ
         ‚îÇ   ‚îÇ     ‚ñ†               ‚îÇ
         ‚îÇ   ‚îÇ                     ‚îÇ
         ‚ñº   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    Y —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 3: –†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è -->
            <Border Background="#FEF9E7" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üìè –†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏" FontSize="18" FontWeight="Bold" Foreground="#B7950B"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–æ—Ä–µ–º–∞ –ü–∏—Ñ–∞–≥–æ—Ä–∞:
distance = ‚àö((x‚ÇÇ - x‚ÇÅ)¬≤ + (y‚ÇÇ - y‚ÇÅ)¬≤)
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
// –†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Ü–µ–Ω—Ç—Ä–∞–º–∏ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
double x1 = Canvas.GetLeft(element1) + element1.Width / 2;
double y1 = Canvas.GetTop(element1) + element1.Height / 2;
double x2 = Canvas.GetLeft(element2) + element2.Width / 2;
double y2 = Canvas.GetTop(element2) + element2.Height / 2;

double distance = Math.Sqrt(Math.Pow(x2 - x1, 2) + Math.Pow(y2 - y1, 2));

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è (–¥–ª—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤)
bool isColliding = Math.Abs(x2 - x1) &lt; (w1 + w2) / 2 &amp;&amp; 
                   Math.Abs(y2 - y1) &lt; (h1 + h2) / 2;
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:" FontWeight="SemiBold" Margin="0,5,0,5"/>
                    <StackPanel>
                        <TextBlock Text="‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –≤ –∏–≥—Ä–∞—Ö" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –ü—Ä–∏—Ç—è–≥–∏–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ (snap-to-grid)" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω –≤–ª–∏—è–Ω–∏—è" FontSize="13"/>
                        <TextBlock Text="‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è" FontSize="13"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 4: Drag-and-Drop -->
            <Border Background="#F5EEF8" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üñêÔ∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Drag-and-Drop" FontSize="18" FontWeight="Bold" Foreground="#8E44AD"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
Drag-and-Drop —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —ç—Ç–∞–ø–æ–≤:
1. MouseDown ‚Äî –Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (–∑–∞—Ö–≤–∞—Ç –º—ã—à–∏)
2. MouseMove ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞ –∫—É—Ä—Å–æ—Ä–æ–º
3. MouseUp ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –º—ã—à–∏)
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
// –ü–æ–ª—è –∫–ª–∞—Å—Å–∞
private bool isDragging = false;
private Point clickOffset;              // –°–º–µ—â–µ–Ω–∏–µ –∫–ª–∏–∫–∞ –æ—Ç —É–≥–ª–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
private UIElement? draggedElement;

// 1. –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
private void Element_MouseDown(object sender, MouseButtonEventArgs e)
{
    var element = sender as UIElement;
    if (element == null) return;
    
    draggedElement = element;
    isDragging = true;
    
    // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, –≥–¥–µ –∫–ª–∏–∫–Ω—É–ª–∏ –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–∞
    clickOffset = e.GetPosition(element);
    
    // –í–ê–ñ–ù–û: –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º –º—ã—à—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
    // –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∫—É—Ä—Å–æ—Ä –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —ç–ª–µ–º–µ–Ω—Ç–∞
    element.CaptureMouse();
}

// 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
private void Element_MouseMove(object sender, MouseEventArgs e)
{
    if (!isDragging || draggedElement == null) return;
    
    // –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –º—ã—à–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ Canvas
    Point mousePos = e.GetPosition(myCanvas);
    
    // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é —ç–ª–µ–º–µ–Ω—Ç–∞
    // (—Å —É—á—ë—Ç–æ–º —Ç–æ–≥–æ, –≥–¥–µ –∫–ª–∏–∫–Ω—É–ª–∏ –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–∞)
    double newX = mousePos.X - clickOffset.X;
    double newY = mousePos.Y - clickOffset.Y;
    
    // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç
    Canvas.SetLeft(draggedElement, newX);
    Canvas.SetTop(draggedElement, newY);
}

// 3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
private void Element_MouseUp(object sender, MouseButtonEventArgs e)
{
    if (draggedElement != null)
    {
        draggedElement.ReleaseMouseCapture();  // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –º—ã—à—å
    }
    isDragging = false;
    draggedElement = null;
}
                        </TextBlock>
                    </Border>
                    
                    <TextBlock Text="–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:" FontWeight="SemiBold" Foreground="#8E44AD" Margin="0,10,0,5"/>
                    <Border Background="White" CornerRadius="4" Padding="10">
                        <StackPanel>
                            <StackPanel Margin="0,0,0,8">
                                <TextBlock FontWeight="Bold" FontSize="13">‚Ä¢ CaptureMouse()</TextBlock>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Margin="12,2,0,0" Foreground="#555">–ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º—ã—à—å. –°–æ–±—ã—Ç–∏—è –º—ã—à–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —ç–ª–µ–º–µ–Ω—Ç—É –¥–∞–∂–µ –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –≤—ã–π–¥–µ—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã.</TextBlock>
                            </StackPanel>
                            <StackPanel Margin="0,0,0,8">
                                <TextBlock FontWeight="Bold" FontSize="13">‚Ä¢ ReleaseMouseCapture()</TextBlock>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Margin="12,2,0,0" Foreground="#555">–û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∑–∞—Ö–≤–∞—Ç –º—ã—à–∏.</TextBlock>
                            </StackPanel>
                            <StackPanel Margin="0,0,0,8">
                                <TextBlock FontWeight="Bold" FontSize="13">‚Ä¢ clickOffset</TextBlock>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Margin="12,2,0,0" Foreground="#555">–°–º–µ—â–µ–Ω–∏–µ –∫–ª–∏–∫–∞ –æ—Ç —É–≥–ª–∞ —ç–ª–µ–º–µ–Ω—Ç–∞. –ë–µ–∑ –Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç "–ø—Ä—ã–≥–∞–µ—Ç".</TextBlock>
                            </StackPanel>
                            <StackPanel>
                                <TextBlock FontWeight="Bold" FontSize="13">‚Ä¢ e.GetPosition(canvas)</TextBlock>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Margin="12,2,0,0" Foreground="#555">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.</TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –°–µ–∫—Ü–∏—è 5: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ -->
            <Border Background="#EAEDED" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üöß –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è" FontSize="18" FontWeight="Bold" Foreground="#566573"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –Ω–µ –¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—É –≤—ã–π—Ç–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã Canvas:
                    </TextBlock>
                    
                    <Border Background="#2C3E50" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                        <TextBlock FontFamily="Consolas" Foreground="White" xml:space="preserve" FontSize="12">
private void Element_MouseMove(object sender, MouseEventArgs e)
{
    if (!isDragging || draggedElement == null) return;
    
    Point mousePos = e.GetPosition(myCanvas);
    double newX = mousePos.X - clickOffset.X;
    double newY = mousePos.Y - clickOffset.Y;
    
    // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–∞
    var fe = draggedElement as FrameworkElement;
    double elemWidth = fe?.ActualWidth ?? 0;
    double elemHeight = fe?.ActualHeight ?? 0;
    
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    newX = Math.Clamp(newX, 0, myCanvas.ActualWidth - elemWidth);
    newY = Math.Clamp(newY, 0, myCanvas.ActualHeight - elemHeight);
    
    Canvas.SetLeft(draggedElement, newX);
    Canvas.SetTop(draggedElement, newY);
}
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Border>

            <!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è -->
            <Border Background="#D5F5E3" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="üéÆ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º" FontSize="18" FontWeight="Bold" Foreground="#27AE60"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,5" FontSize="13">
–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Å–∏–Ω–∏–π –∏ –∫—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç—ã –º—ã—à—å—é. –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∏—Ö —Ü–µ–Ω—Ç—Ä–∞–º–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
                    </TextBlock>
                    
                    <Canvas x:Name="DemoCanvas" Background="White" Height="200" Margin="0,10,0,0" ClipToBounds="True">
                        <Border x:Name="BlueBox" Canvas.Left="50" Canvas.Top="70" Width="60" Height="60" 
                                Background="#3498DB" CornerRadius="5" Cursor="Hand"
                                MouseDown="Box_MouseDown" MouseMove="Box_MouseMove" MouseUp="Box_MouseUp">
                            <TextBlock Text="A" Foreground="White" FontWeight="Bold" FontSize="20" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <Border x:Name="RedBox" Canvas.Left="250" Canvas.Top="70" Width="60" Height="60" 
                                Background="#E74C3C" CornerRadius="5" Cursor="Hand"
                                MouseDown="Box_MouseDown" MouseMove="Box_MouseMove" MouseUp="Box_MouseUp">
                            <TextBlock Text="B" Foreground="White" FontWeight="Bold" FontSize="20" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </Canvas>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <TextBlock x:Name="DistanceText" Text="–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ‚Äî" FontWeight="Bold" FontSize="14"/>
                        <TextBlock x:Name="CoordinatesText" Text="" Margin="20,0,0,0" Foreground="#7F8C8D" FontSize="12"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ -->
            <Border Background="#FADBD8" CornerRadius="8" Padding="15" BorderBrush="#E74C3C" BorderThickness="2">
                <StackPanel>
                    <TextBlock Text="üìã –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Drag-and-drop —Ä–µ–¥–∞–∫—Ç–æ—Ä" FontSize="18" FontWeight="Bold" Foreground="#C0392B"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,10,0,10" FontSize="13">
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Canvas, –≥–¥–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–≥—É—Ä:
                    </TextBlock>
                    
                    <Border Background="White" CornerRadius="5" Padding="15">
                        <StackPanel>
                            <TextBlock Text="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:" FontWeight="Bold" Margin="0,0,0,10"/>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ú–∏–Ω–∏–º—É–º 4-5 —Ñ–∏–≥—É—Ä —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –Ω–∞ Canvas"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç–ª–µ–º–µ–Ω—Ç–∞"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ Canvas"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ü—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ —Ñ–∏–≥—É—Ä ‚Äî –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç (–∫–æ–ª–ª–∏–∑–∏—è)"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚úÖ" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ù–µ –¥–∞–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã Canvas"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <TextBlock Text="–ë–æ–Ω—É—Å:" FontWeight="Bold" Margin="0,10,0,5" Foreground="#27AE60"/>
                            
                            <StackPanel Margin="0,0,0,5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ö–Ω–æ–ø–∫–∞ '–°–±—Ä–æ—Å' ‚Äî –≤–µ—Ä–Ω—É—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="üåü" Margin="0,0,8,0"/>
                                    <TextBlock Text="–ü—Ä–∏—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫ —Å–µ—Ç–∫–µ (snap to grid) —Å —à–∞–≥–æ–º 20px"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
